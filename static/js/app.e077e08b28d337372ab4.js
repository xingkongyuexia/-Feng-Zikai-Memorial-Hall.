webpackJsonp([0],{"+BJ1":function(t,i){},"2v0i":function(t,i,e){t.exports=e.p+"static/img/start.7850dec.png"},"956O":function(t,i,e){t.exports=e.p+"static/img/pic3.fd23953.png"},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("7+uW"),n={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]};var a=e("VU/8")({},n,!1,function(t){e("cAGQ")},null,null).exports,o=e("/ocq"),r=e("wUZA"),c={name:"loading",data:function(){return{pic1:"",pic2:"",pic3:"",btnUrl:"../../static/image/loading.png",ready:!1,startClass:"",loadClass:"",topClass:"",bottomIndex:-1e3}},mounted:function(){this.loadModel(),this.changeIcon()},methods:{changePicture:function(){var t=this,i=0;setTimeout(function(){setInterval(function(){3===i&&(i=0),0===i?(t.pic1="out",t.pic2="in"):1===i?(t.pic2="out",t.pic3="in"):(t.pic3="out",t.pic1="in"),i++},4500)},3e3)},loadModel:function(){var t=this;setTimeout(function(){t.ready=!0},3500)},changeIcon:function(){var t=this;setTimeout(function(){t.loadClass="load",t.startClass="start"},7e3)},hideLoading:function(){this.topClass="hidden",this.bottomIndex=100}}},l={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"body"}},[s("div",{class:t.topClass,attrs:{id:"top"}},[s("div",{staticClass:"scroll left"}),t._v(" "),s("div",{staticClass:"scroll right"}),t._v(" "),s("img",{staticClass:"background p1",class:t.pic1,attrs:{src:e("eKSS")}}),t._v(" "),s("img",{staticClass:"background p2",class:t.pic2,attrs:{src:e("zQ0I")}}),t._v(" "),s("img",{staticClass:"background p3",class:t.pic3,attrs:{src:e("956O")}}),t._v(" "),s("img",{staticClass:"btn",class:t.loadClass,attrs:{src:e("S49v")}}),t._v(" "),s("img",{staticClass:"btn",class:t.startClass,attrs:{src:e("2v0i")},on:{click:function(i){return t.hideLoading()}}})]),t._v(" "),s("div",{style:{"z-index":t.bottomIndex},attrs:{id:"bottom"}},[t.ready?s("home"):t._e()],1)])},staticRenderFns:[]};var d=e("VU/8")(c,l,!1,function(t){e("m9xj")},"data-v-793fc438",null).exports,h=e("Ml+6"),u=e("BMSc"),m={name:"visit",data:function(){return{scene:null,label:null,group:null,infoIsShow:"none"}},methods:{init:function(){var t=document.getElementById("container");this.camera=new h.I(45,t.clientWidth/t.clientHeight,.5,1e4),this.camera.position.set(0,.5,0),this.scene=new h.P,this.scene.background=new h.h(16777215),this.renderer=new h._4({antialias:!0}),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.controls=new u.a(this.camera,this.renderer.domElement),this.controls.minPolarAngle=Math.PI/6,this.controls.maxPolarAngle=Math.PI/2,document.addEventListener("click",this.onMouseClick),document.addEventListener("pointermove",this.onPointerMove)},initRoom:function(){var t=new h.e(10,10,-10),i=[],e=new h.Y,s=e.load("../../static/image/yyt/test/right.png");i.push(new h.C({map:s}));var n=e.load("../../static/image/yyt/test/left.png");i.push(new h.C({map:n}));var a=e.load("../../static/image/yyt/test/top.png");i.push(new h.C({map:a}));var o=e.load("../../static/image/yyt/test/bottom.png");i.push(new h.C({map:o}));var r=e.load("../../static/image/yyt/test/back.png");i.push(new h.C({map:r}));var c=e.load("../../static/image/yyt/test/front.png");i.push(new h.C({map:c}));var l=new h.B(t,i);l.name="room",l.position.set(0,0,0),this.scene.add(l)},initLabel:function(){var t=(new h.Y).load("../../static/image/showMore.png"),i=new h.V({map:t});this.label=new h.U(i),this.label.name="show",this.label.position.set(-.3,-.35,-1.7),this.label.scale.set(.4,.4,.4),this.group=new h.q,this.scene.add(this.group),this.group.add(this.label)},animate:function(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)},onMouseClick:function(t){var i=new h.N,e=new h._0;e.x=t.clientX/window.innerWidth*2-1,e.y=-t.clientY/window.innerHeight*2+1,i.setFromCamera(e,this.camera);var s=i.intersectObject(this.group,!0);if(s.length>0){var n=s.filter(function(t){return t&&t.object})[0];n&&n.object&&(this.infoIsShow="block")}},onPointerMove:function(t){var i=new h.N,e=new h._0;e.x=t.clientX/window.innerWidth*2-1,e.y=-t.clientY/window.innerHeight*2+1,i.setFromCamera(e,this.camera);i.intersectObjects(this.group,!0)},hidden:function(){this.infoIsShow="none"}},mounted:function(){this.init(),this.initLabel(),this.initRoom(),this.animate()}},p={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("div",{attrs:{id:"container"}}),this._v(" "),i("div",{style:{display:this.infoIsShow},attrs:{id:"moreInfo"},on:{click:this.hidden}},[i("img",{attrs:{src:"static/image/info.png"}})])])},staticRenderFns:[]};var g=e("VU/8")(m,p,!1,function(t){e("+BJ1")},"data-v-243b881a",null).exports;s.a.use(o.a);var f=new o.a({routes:[{path:"/home",name:"home",component:function(t){return new Promise(function(t){t()}).then(function(){var i=[e("wUZA")];t.apply(null,i)}.bind(this)).catch(e.oe)}},{path:"/visit",name:"visit",component:g},{path:"/",name:"loading",component:d}]});s.a.component("home",r.default),s.a.config.productionTip=!1,new s.a({el:"#app",router:f,components:{App:a},template:"<App/>"})},S49v:function(t,i,e){t.exports=e.p+"static/img/loading.1f292ef.png"},cAGQ:function(t,i){},eKSS:function(t,i,e){t.exports=e.p+"static/img/pic1.81d395d.png"},kODP:function(t,i){},m9xj:function(t,i){},wUZA:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("Ml+6"),n=e("BMSc"),a=e("T9FJ"),o={name:"home",data:function(){return{camera:null,scene:null,renderer:null,mesh:null,controls:null,selectedObject:null,group:null,mixer:null,object:null,isClick:!1,isDivided:!1,canReturn:!1,status:0,wall:null,firstFloor:null,secondFloor:null,firstFloorLabel:null,secondFloorLabel:null,dividable:!0,firstIsShow:!1,secondIsShow:!1}},methods:{hideDialog:function(){this.isClick=!0},divide:function(){for(var t=void 0,i=0;i<this.scene.children.length;i++)"house"===this.scene.children[i].name&&(t=this.scene.children[i]);for(var e=0;e<t.children.length;e++)switch(t.children[e].name){case"wall":this.wall=t.children[e];break;case"firstfloor2":this.firstFloor=t.children[e];break;case"second_floor":this.secondFloor=t.children[e]}this.wall.position.set(0,100,0),this.firstFloor.position.set(-7,0,4),this.secondFloor.position.set(7,-3,4),this.initLabel(),this.isDivided=!0,this.canReturn=!0,this.status=1,this.dividable=!1},init:function(){var t=document.getElementById("container");this.camera=new s.I(35,t.clientWidth/t.clientHeight,.01,1e4),this.camera.position.set(25,0,0),this.scene=new s.P,this.scene.background=new s.h(16183531),this.renderer=new s._4({antialias:!0}),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.controls=new n.a(this.camera,this.renderer.domElement),this.controls.minPolarAngle=Math.PI/6,this.controls.maxPolarAngle=Math.PI/2,document.addEventListener("click",this.onMouseClick)},initLight:function(){var t=new s.a(16777215,.8);this.scene.add(t);var i=new s.j(14539452,.4);i.position.set(0,7,10),i.castShadow=!0,this.scene.add(i);new s.k(i,5);var e=new s.j(14539452,.5);e.position.set(0,2,-12),e.castShadow=!0;new s.k(e,5);var n=new s.j(14539452,.5);n.position.set(6,2,0),n.castShadow=!0;new s.k(e,5);var a=new s.j(14539452,.5);a.position.set(-6,2,0),a.castShadow=!0;new s.k(a,5);var o=new s.r(16777215,4473924);o.position.set(0,8,0),this.scene.add(o);new s.s(o,12)},initRoom:function(){var t=new s.e(1e3,1e3,-1e3),i=[],e=new s.Y,n=e.load("https://fzkmuseum.cn/images/yyt/test/right.png");i.push(new s.C({map:n}));var a=e.load("https://fzkmuseum.cn/images/yyt/test/left.png");i.push(new s.C({map:a}));var o=e.load("https://fzkmuseum.cn/images/yyt/test/top.png");i.push(new s.C({map:o}));var r=e.load("https://fzkmuseum.cn/images/yyt/test/bottom.png");i.push(new s.C({map:r}));var c=e.load("https://fzkmuseum.cn/images/yyt/test/back.png");i.push(new s.C({map:c}));var l=e.load("https://fzkmuseum.cn/images/yyt/test/front.png");i.push(new s.C({map:l}));var d=new s.B(t,i);this.scene.add(d)},initModel:function(){var t=this;(new a.a).load("./static/model/entirety.fbx",function(i){t.object=i,t.scene.add(i),i.name="house",i.position.set(8,-2,0)})},initHelper:function(){var t=new s.c(20);t.position.set(0,0,0),t.setColors(new s.h(255,0,0),new s.h(0,255,0),new s.h(0,0,255))},animate:function(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)},initLabel:function(){var t=(new s.Y).load("../../static/image/firstFloorLabel.png"),i=(new s.Y).load("../../static/image/secondFloorLabel.png"),e=new s.V({map:t}),n=new s.V({map:i});this.firstFloorLabel=new s.U(e),this.secondFloorLabel=new s.U(n),this.firstFloorLabel.scale.set(1,3.5,0),this.firstFloorLabel.position.set(-12,4,0),this.secondFloorLabel.scale.set(1,4,0),this.secondFloorLabel.position.set(12,4,0),this.scene.add(this.firstFloorLabel),this.scene.add(this.secondFloorLabel)},hideLabel:function(){this.firstFloorLabel.visible=!1,this.secondFloorLabel.visible=!1},showFirst:function(){this.firstFloor.position.set(-2,0,5),this.secondFloor.position.set(0,1e3,0),this.hideLabel(),this.isDivided=!1,this.status=2,this.firstIsShow=!0},showSecond:function(){this.firstFloor.position.set(0,1e3,0),this.secondFloor.position.set(0,-2,5),this.hideLabel(),this.isDivided=!1,this.status=2,this.secondIsShow=!0},back:function(){switch(this.status){case 1:this.wall.position.set(0,0,0),this.firstFloor.position.set(0,0,0),this.secondFloor.position.set(0,0,0),this.isDivided=!1,this.canReturn=!1,this.dividable=!0,this.hideLabel(),this.status=0;break;case 2:this.firstFloor.position.set(-7,0,4),this.secondFloor.position.set(7,-3,4),this.initLabel(),this.isDivided=!0,this.status=1,this.firstIsShow=!1,this.secondIsShow=!1}},jump:function(){this.$router.push("/visit")}},mounted:function(){this.init(),this.initLight(),this.initModel(),this.initHelper(),this.animate()}},r={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{attrs:{id:"container"}}),t._v(" "),t.isClick?t._e():e("div",{attrs:{id:"dialog"},on:{click:t.hideDialog}},[e("img",{attrs:{src:"static/image/dialog.png"}})]),t._v(" "),!t.isDivided&&t.dividable?e("div",{attrs:{id:"divide"},on:{click:t.divide}},[e("img",{attrs:{src:"static/image/divide.png"}})]):t._e(),t._v(" "),t.isDivided?e("div",{staticClass:"floorBtn",attrs:{id:"ff"},on:{click:t.showFirst}},[e("img",{attrs:{src:"static/image/1f.png"}})]):t._e(),t._v(" "),t.isDivided?e("div",{staticClass:"floorBtn",on:{click:t.showSecond}},[e("img",{attrs:{src:"static/image/2f.png"}})]):t._e(),t._v(" "),t.canReturn?e("div",{attrs:{id:"back"},on:{click:t.back}},[e("img",{attrs:{src:"static/image/back.png"}})]):t._e(),t._v(" "),t.firstIsShow?e("div",{attrs:{id:"firstFloorBtn"}},[e("img",{attrs:{src:"static/image/zt.png"},on:{click:t.jump}}),t._v(" "),e("img",{attrs:{src:"static/image/sf.png"}}),t._v(" "),e("img",{attrs:{src:"static/image/cls.png"}}),t._v(" "),e("img",{attrs:{src:"static/image/hds.png"}}),t._v(" "),e("img",{attrs:{src:"static/image/ct.png"}})]):t._e()])},staticRenderFns:[]};var c=e("VU/8")(o,r,!1,function(t){e("kODP")},"data-v-e67404d8",null);i.default=c.exports},zQ0I:function(t,i,e){t.exports=e.p+"static/img/pic2.826b49c.png"}},["NHnr"]);
//# sourceMappingURL=app.e077e08b28d337372ab4.js.map